!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("diamodal",[],e):"object"==typeof exports?exports.diamodal=e():t.diamodal=e()}(window,function(){return function(n){var o={};function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}return i.m=n,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=6)}([function(t,e,n){var o=n(1);t.exports=function(t){"use strict";t=t||{};var e="",n=o.$escape;return e+='<div class="diamodal diamodal--is-close" role="dialog" tabindex="-1" style="-webkit-transition-duration: ',e+=n(t.transitionDuration),e+="ms;-o-transition-duration: ",e+=n(t.transitionDuration),e+="ms;transition-duration: ",e+=n(t.transitionDuration),e+='ms"><div class="diamodal__container"><div class="diamodal-box diamodal-box--',e+=n(t.boxSize),e+='"><div class="diamodal-box__header"><div class="diamodal-box__title">',e+=t.title,e+='</div><button class="diamodal-box__close-button" data-diamodal-close><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.642 15.642" xmlns:xlink="http://www.w3.org/1999/xlink" enable-background="new 0 0 15.642 15.642"><path fill-rule="evenodd" d="M8.882,7.821l6.541-6.541c0.293-0.293,0.293-0.768,0-1.061  c-0.293-0.293-0.768-0.293-1.061,0L7.821,6.76L1.28,0.22c-0.293-0.293-0.768-0.293-1.061,0c-0.293,0.293-0.293,0.768,0,1.061  l6.541,6.541L0.22,14.362c-0.293,0.293-0.293,0.768,0,1.061c0.147,0.146,0.338,0.22,0.53,0.22s0.384-0.073,0.53-0.22l6.541-6.541  l6.541,6.541c0.147,0.146,0.338,0.22,0.53,0.22c0.192,0,0.384-0.073,0.53-0.22c0.293-0.293,0.293-0.768,0-1.061L8.882,7.821z"/></svg></button></div><div class="diamodal-box__content">',e+=t.content,e+="</div></div></div></div>"}},function(t,e,n){"use strict";t.exports=n(3)},function(t,e,n){},function(o,t,e){"use strict";(function(t){
/*! art-template@runtime | https://github.com/aui/art-template */
var e="undefined"==typeof window,n=Object.create(e?t:window),s=/["&'<>]/;n.$escape=function(t){return function(t){var e=""+t,n=s.exec(e);if(!n)return t;var o="",i=void 0,r=void 0,a=void 0;for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&#34;";break;case 38:a="&#38;";break;case 39:a="&#39;";break;case 60:a="&#60;";break;case 62:a="&#62;";break;default:continue}r!==i&&(o+=e.substring(r,i)),r=i+1,o+=a}return r!==i?o+e.substring(r,i):o}(function t(e){"string"!=typeof e&&(e=null==e?"":"function"==typeof e?t(e.call(e)):JSON.stringify(e));return e}(t))},n.$each=function(t,e){if(Array.isArray(t))for(var n=0,o=t.length;n<o;n++)e(t[n],n);else for(var i in t)e(t[i],i)},o.exports=n}).call(this,e(4))},function(fa,ga){var ha;ha=function(){return this}();try{ha=ha||Function("return this")()||eval("this")}catch(t){"object"==typeof window&&(ha=window)}fa.exports=ha},function(t,e,n){var r=n(1);t.exports=function(t){"use strict";t=t||{};var n="",o=r.$escape,i=r.$each;t.$value,t.$index,t.input,t.index,t.option;return n+='<form action="',n+=o(t.action||""),n+='" method="',n+=o(t.method||""),n+='" enctype="',n+=o(t.enctype||""),n+='" class="diamodal-form" data-diamodal-form ',t.attributes&&(n+=" ",i(t.attributes,function(t,e){n+=" ",!1!==t&&-1===["action","method","enctype","class"].indexOf(e)&&(n+=" ",n+=o(e),n+='="',n+=o(t),n+='" '),n+=" "}),n+=" "),n+=" > ",t.inputs&&(n+=" ",i(t.inputs,function(t,e){n+=" ",t.type&&(n+=' <div class="diamodal-form-input diamodal-form-input--fullwidth diamodal-form-input--',n+=o(t.type),n+=" ",n+=o(t.class||""),n+='"> ',"textarea"===t.type?(n+=' <textarea class="diamodal-form-input__input" ',i(t,function(t,e){n+=" ",!1!==t&&-1===["type","value","class","placeholder"].indexOf(e)&&(n+=" ",n+=o(e),n+='="',n+=o(t),n+='" '),n+=" "}),n+=" >",n+=o(t.value||""),n+="</textarea> "):"select"===t.type?(n+=' <select class="diamodal-form-input__input" ',i(t,function(t,e){n+=" ",!1!==t&&-1===["type","options","class","placeholder"].indexOf(e)&&(n+=" ",n+=o(e),n+='="',n+=o(t),n+='" '),n+=" "}),n+=" > ",t.options&&(n+=" ",i(t.options,function(t,e){n+=" <option ",i(t,function(t,e){n+=" ",!1===t&&"text"===e||(n+=" ",n+=o(e),n+='="',n+=o(t),n+='" '),n+=" "}),n+=" > ",n+=o(t.text||t.value||""),n+=" </option> "}),n+=" "),n+=" </select> "):-1!==["text","number","email","tel","password","file","hidden","checkbox","radio"].indexOf(t.type)&&(n+=' <input class="diamodal-form-input__input" ',i(t,function(t,e){n+=" ",!1!==t&&-1===["class","placeholder"].indexOf(e)&&(n+=" ",n+=o(e),n+='="',n+=o(t),n+='" '),n+=" "}),n+=" > "),n+=' <label for="',n+=o(t.id),n+='" class="diamodal-form-input__label">',n+=o(t.placeholder||""),n+="</label></div> "),n+=" "}),n+=" "),n+=' <button type="submit" class="diamodal-form__submit-button" data-diamodal-form-submit>',n+=o(t.submitText),n+="</button></form>"}},function(t,e,$){"use strict";$.r(e);$(2);function _(){return"_"+Math.random().toString(14).substr(2,6)}function N(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function q(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=function(){function A(t){var e=this,n=t.template,o=void 0===n?$(0):n,i=t.title,r=void 0===i?"":i,a=t.content,s=void 0===a?"":a,l=t.boxSize,u=void 0===l?"small":l,c=t.root,d=void 0===c?document?document.body:null:c,f=t.isOpenClass,m=void 0===f?"diamodal--is-open":f,p=t.isCloseClass,h=void 0===p?"diamodal--is-close":p,v=t.isClosingClass,b=void 0===v?"diamodal--is-closing":v,_=t.openOnInit,y=void 0!==_&&_,x=t.destroyOnClose,g=void 0!==x&&x,w=t.transitionDuration,O=void 0===w?480:w,C=t.onInit,S=void 0===C?function(t){return t}:C,j=t.onDestroy,k=void 0===j?function(t){return t}:j,T=t.onRender,E=void 0===T?function(t){return t}:T,L=t.onOpen,P=void 0===L?function(t){return t}:L,D=t.onClose,M=void 0===D?function(t){return t}:D;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,A),z(this,"open",function(){clearTimeout(e._currentTimeout),q(e._element,e._classes.isCloseClass),q(e._element,e._classes.isClosingClass),q(e._element,e._classes.isOpenClass),N(e._root,"diamodal-active"),N(e._root,"diamodal-scrollbar-compensate"),e._currentTimeout=setTimeout(function(){N(e._element,e._classes.isOpenClass),e._onOpen()},10)}),z(this,"close",function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:e._destroyOnClose;q(e._element,e._classes.isOpenClass),q(e._element,e._classes.isCloseClass),N(e._element,e._classes.isClosingClass),e._currentTimeout=setTimeout(function(){t&&e.destroy(),q(e._element,e._classes.isClosingClass),N(e._element,e._classes.isCloseClass),q(e._root,"diamodal-active"),q(e._root,"diamodal-scrollbar-compensate"),e._onClose()},e._transitionDuration)}),this._transitionDuration=O,this._classes={isOpenClass:m,isCloseClass:h,isClosingClass:b},this._root=d,this._template=o,this._title=r,this._content=s,this._boxSize=u,this._openOnInit=y,this._destroyOnClose=g,this._onInit=S,this._onDestroy=k,this._onRender=E,this._onOpen=P,this._onClose=M,this.init(y)}var t,e,n;return t=A,(e=[{key:"init",value:function(t){this.render(),this._element&&(this._attachHandlers(),t&&this.open()),this._onInit()}},{key:"_attachHandlers",value:function(){var e=this;if(this._box=this._element.querySelector(".diamodal-box"),this._box){for(var t=this._box.querySelectorAll("[data-diamodal-close]"),n=0;n<t.length;++n)t[n].addEventListener("click",function(t){return e.close()});this._box.addEventListener("click",function(t){t.stopPropagation()})}this._element&&this._element.addEventListener("click",function(t){return e.close()})}},{key:"destroy",value:function(){this._element.parentNode.removeChild(this._element),this._onDestroy()}},{key:"compile",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._title,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._content,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this._boxSize,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:this._transitionDuration;return this._template({title:t,content:e,boxSize:n,transitionDuration:o})}},{key:"render",value:function(){var t,e;if(0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._root){var n=this.compile();this._element=(t=n,(e=document.createElement("div")).innerHTML=t.trim(),e.firstChild),this._root.appendChild(this._element),this._onRender()}}}])&&o(t.prototype,e),n&&o(t,n),A}(),l="data-diamodal-form-input-id",r={wrapper:".diamodal-form-input",input:".diamodal-form-input__input"},a="diamodal-form-input--focused",u="diamodal-form-input--floated";var s=function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document,e=function(t,e){for(var n={},o=e.querySelectorAll(t.wrapper),i=0;i<o.length;++i){var r=o[i],a=r.querySelector(t.input),s=_();n[s]={wrapper:r,input:a},a.setAttribute(l,s),""!==a.value&&N(r,u)}return n}(r,t),n=t.querySelectorAll(r.input),o=0;o<n.length;++o)n[o].addEventListener("focus",function(){var t=this.getAttribute(l);N(e[t].wrapper,a),N(e[t].wrapper,u)}),n[o].addEventListener("blur",function(){var t=this.getAttribute(l);q(e[t].wrapper,a),""===e[t].input.value&&q(e[t].wrapper,u)})};function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function y(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f,m=function(t){function b(t){var e,n=t.template,o=void 0===n?$(0):n,i=t.formTemplate,r=void 0===i?$(5):i,a=t.title,s=void 0===a?"":a,l=t.action,u=void 0===l?"":l,c=(t.method,t.enctype,t.attributes,t.inputs),d=void 0===c?[]:c,f=t.submitText,m=void 0===f?"Отправить":f,p=t.onSubmit,h=void 0===p?function(t){return t}:p;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,b);var v=r({action:u,inputs:function(t){if(t&&t.length)return t.map(function(t){return t.id=t.name+_(),t})}(d),submitText:m});return(e=y(this,x(b).call(this,{template:o,title:s,content:v})))._formTemplate=r,e._onSubmit=h,e.initForm(),e}var e,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(b,i),e=b,(n=[{key:"initForm",value:function(){this._form=this._element.querySelector("[data-diamodal-form]"),this._form.addEventListener("submit",this._onSubmit),s(this._form)}}])&&c(e.prototype,n),o&&c(e,o),b}();$.d(e,"DiaModal",function(){return i}),$.d(e,"DiaModalForm",function(){return m}),f=function(){!function(t){if(!t){var e=document.head||document.getElementsByTagName("head")[0],n=window.innerWidth-document.documentElement.clientWidth,o=".diamodal-scrollbar-compensate{margin-right:".concat(n,"px;}"),i=document.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=o:i.appendChild(document.createTextNode(o)),e.appendChild(i)}}(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))},(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?f():document.addEventListener("DOMContentLoaded",f)}])});