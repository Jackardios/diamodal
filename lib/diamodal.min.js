!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("diamodal",[],t):"object"==typeof exports?exports.diamodal=t():e.diamodal=t()}(window,function(){return function(n){var i={};function o(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=7)}([function(e,t,n){"use strict";e.exports=n(4)},function(e,t,n){},function(e,t){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)for(var r=Object.keys(Object(o)),a=0,s=r.length;a<s;a++){var l=r[a],d=Object.getOwnPropertyDescriptor(o,l);void 0!==d&&d.enumerable&&(n[l]=o[l])}}return n}})},function(e,t,n){var i=n(0);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape;return t+='<div class="diamodal diamodal--is-close" role="dialog" tabindex="-1" style="-webkit-transition-duration: ',t+=n(e.transitionDuration),t+="ms;-o-transition-duration: ",t+=n(e.transitionDuration),t+="ms;transition-duration: ",t+=n(e.transitionDuration),t+="ms;z-index: ",t+=n(e.zIndex||9999),t+='"><div class="diamodal__container"><div class="diamodal-box diamodal-box--',t+=n(e.boxSize),t+='"><div class="diamodal-box__header"><div class="diamodal-box__title" data-diamodal-title>',t+=e.title,t+='</div><button class="diamodal-box__close-button" data-diamodal-close><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.642 15.642" xmlns:xlink="http://www.w3.org/1999/xlink" enable-background="new 0 0 15.642 15.642"><path fill-rule="evenodd" d="M8.882,7.821l6.541-6.541c0.293-0.293,0.293-0.768,0-1.061  c-0.293-0.293-0.768-0.293-1.061,0L7.821,6.76L1.28,0.22c-0.293-0.293-0.768-0.293-1.061,0c-0.293,0.293-0.293,0.768,0,1.061  l6.541,6.541L0.22,14.362c-0.293,0.293-0.293,0.768,0,1.061c0.147,0.146,0.338,0.22,0.53,0.22s0.384-0.073,0.53-0.22l6.541-6.541  l6.541,6.541c0.147,0.146,0.338,0.22,0.53,0.22c0.192,0,0.384-0.073,0.53-0.22c0.293-0.293,0.293-0.768,0-1.061L8.882,7.821z"/></svg></button></div><div class="diamodal-box__content" data-diamodal-content>',t+=e.content,t+="</div></div></div></div>"}},function(i,e,t){"use strict";(function(e){
/*! art-template@runtime | https://github.com/aui/art-template */
var t="undefined"==typeof window,n=Object.create(t?e:window),s=/["&'<>]/;n.$escape=function(e){return function(e){var t=""+e,n=s.exec(t);if(!n)return e;var i="",o=void 0,r=void 0,a=void 0;for(o=n.index,r=0;o<t.length;o++){switch(t.charCodeAt(o)){case 34:a="&#34;";break;case 38:a="&#38;";break;case 39:a="&#39;";break;case 60:a="&#60;";break;case 62:a="&#62;";break;default:continue}r!==o&&(i+=t.substring(r,o)),r=o+1,i+=a}return r!==o?i+t.substring(r,o):i}(function e(t){"string"!=typeof t&&(t=null==t?"":"function"==typeof t?e(t.call(t)):JSON.stringify(t));return t}(e))},n.$each=function(e,t){if(Array.isArray(e))for(var n=0,i=e.length;n<i;n++)t(e[n],n);else for(var o in e)t(e[o],o)},i.exports=n}).call(this,t(5))},function(sa,ta){var ua;ua=function(){return this}();try{ua=ua||Function("return this")()||eval("this")}catch(e){"object"==typeof window&&(ua=window)}sa.exports=ua},function(e,t,n){var a=n(0);e.exports=function(n){"use strict";n=n||{};var i="",o=a.$escape,r=a.$each;n.$value,n.$index,n.input,n.index,n.option;return i+='<form class="diamodal-form ',i+=o(n.attributes&&n.attributes.class?n.attributes.class:""),i+='" data-diamodal-form ',n.attributes&&(i+=" ",r(n.attributes,function(e,t){i+=" ",!1!==e&&"class"!==t&&(i+=" ",i+=o(t),i+='="',i+=o(e),i+='" '),i+=" "}),i+=" "),i+=" > ",n.inputs&&(i+=" ",r(n.inputs,function(e,t){i+=" ",e.type=e.type||"text",i+=" ",e.type&&(i+=' <div class="diamodal-form-input diamodal-form-input--fullwidth diamodal-form-input--',i+=o(e.type),i+=" ",i+=o(e.class||""),i+='"> ',"textarea"===e.type?(i+=' <textarea class="diamodal-form-input__input" ',r(e,function(e,t){i+=" ",!1!==e&&-1===["type","value","class","placeholder"].indexOf(t)&&(i+=" ",i+=o(t),i+='="',i+=o(e),i+='" '),i+=" "}),i+=" >",i+=o(e.value||""),i+="</textarea> "):"select"===e.type?(i+=' <select class="diamodal-form-input__input" ',r(e,function(e,t){i+=" ",!1!==e&&-1===["type","options","class","placeholder"].indexOf(t)&&(i+=" ",i+=o(t),i+='="',i+=o(e),i+='" '),i+=" "}),i+=" > ",e.options&&(i+=" ",r(e.options,function(e,t){i+=" <option ",r(e,function(e,t){i+=" ",!1!==e&&"text"!==t&&(i+=" ",i+=o(t),i+='="',i+=o(e),i+='" '),i+=" "}),i+=" > ",i+=o(e.text||e.value||""),i+=" </option> "}),i+=" "),i+=" </select> "):-1!==["text","number","email","tel","password","file","hidden","checkbox","radio"].indexOf(e.type)&&(i+=' <input class="diamodal-form-input__input" ',r(e,function(e,t){i+=" ",!1!==e&&-1===["class","placeholder"].indexOf(t)&&(i+=" ",i+=o(t),i+='="',i+=o(e),i+='" '),i+=" "}),i+=" > "),i+=' <label for="',i+=o(e.id),i+='" class="diamodal-form-input__label">',i+=o(e.placeholder||""),i+=n.addRequiredLabel&&e.required&&-1===["checkbox","radio"].indexOf(e.type)?'<span class="diamodal-color-error">*</span>':"",i+="</label></div> "),i+=" "}),i+=" "),i+=" ",n.addRequiredLabel&&n.requiredLabelText&&(i+=' <div class="diamodal-form__required-label-text"><span class="diamodal-color-error">*</span>',i+=n.requiredLabelText,i+="</div> "),i+=' <button type="submit" class="',i+=o(n.submitButtomClass),i+='" data-diamodal-form-submit>',i+=o(n.submitText),i+="</button></form>"}},function(e,t,$){"use strict";$.r(t);$(1),$(2);function H(){return"_"+Math.random().toString(14).substr(2,6)}function F(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function W(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(){function N(e){var t=this,n=e.template,i=void 0===n?$(3):n,o=e.title,r=void 0===o?"":o,a=e.content,s=void 0===a?"":a,l=e.boxSize,d=void 0===l?"small":l,u=e.root,c=void 0===u?document?document.body:null:u,f=e.isOpenClass,p=void 0===f?"diamodal--is-open":f,m=e.isCloseClass,b=void 0===m?"diamodal--is-close":m,v=e.isClosingClass,h=void 0===v?"diamodal--is-closing":v,_=e.triggerBtnSelector,y=void 0===_?null:_,g=e.closeOnEscape,w=void 0===g||g,O=e.openOnInit,x=void 0!==O&&O,C=e.destroyOnClose,S=void 0!==C&&C,j=e.transitionDuration,k=void 0===j?480:j,L=e.zIndex,T=void 0===L?9999:L,E=e.onInit,M=void 0===E?function(e){return e}:E,P=e.onDestroy,q=void 0===P?function(e){return e}:P,D=e.onRender,z=void 0===D?function(e){return e}:D,B=e.onOpen,I=void 0===B?function(e){return e}:B,A=e.onClose,R=void 0===A?function(e){return e}:A;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,N),J(this,"open",function(){clearTimeout(t._currentTimeout),W(t._element,t._classes.isCloseClass),W(t._element,t._classes.isClosingClass),W(t._element,t._classes.isOpenClass),F(t._root,"diamodal-active"),F(t._root,"diamodal-scrollbar-compensate"),window&&(window.__diamodalOpenedModals||(window.__diamodalOpenedModals=[]),-1===window.__diamodalOpenedModals.indexOf(t._uid)&&window.__diamodalOpenedModals.push(t._uid)),t._currentTimeout=setTimeout(function(){F(t._element,t._classes.isOpenClass),t._onOpen()},10)}),J(this,"close",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:t._destroyOnClose;W(t._element,t._classes.isOpenClass),W(t._element,t._classes.isCloseClass),F(t._element,t._classes.isClosingClass),t._currentTimeout=setTimeout(function(){e&&t.destroy(),W(t._element,t._classes.isClosingClass),F(t._element,t._classes.isCloseClass),window&&(window.__diamodalOpenedModals&&window.__diamodalOpenedModals.length&&window.__diamodalOpenedModals.splice(window.__diamodalOpenedModals.indexOf(t._uid),1),window.__diamodalOpenedModals&&window.__diamodalOpenedModals.length||(W(t._root,"diamodal-active"),W(t._root,"diamodal-scrollbar-compensate"))),t._onClose()},t._transitionDuration)}),this._transitionDuration=k,this._classes={isOpenClass:p,isCloseClass:b,isClosingClass:h},this._uid=H(),this._root=c,this._template=i,this._title=r,this._content=s,this._boxSize=d,this._closeOnEscape=w,this._openOnInit=x,this._destroyOnClose=S,this._triggerBtnSelector=y,this._zIndex=T,this._onInit=M,this._onDestroy=q,this._onRender=z,this._onOpen=I,this._onClose=R,this.init(x)}var e,t,n;return e=N,(t=[{key:"init",value:function(e){this.render(),this._element&&(this._attachHandlers(),e&&this.open(),this.titleContainer=this._element.querySelector("[data-diamodal-title]"),this.contentContainer=this._element.querySelector("[data-diamodal-content]")),this._onInit()}},{key:"_attachHandlers",value:function(){var t=this;if(this._box=this._element.querySelector(".diamodal-box"),this._box){for(var e=this._box.querySelectorAll("[data-diamodal-close]"),n=0;n<e.length;++n)e[n].addEventListener("click",function(e){return t.close()});this._box.addEventListener("click",function(e){e.stopPropagation()})}this._element&&this._element.addEventListener("click",function(e){return t.close()}),this._triggerBtnSelector&&function(e,t,n,i){var o=4<arguments.length&&void 0!==arguments[4]&&arguments[4];e.addEventListener(t,function(e){for(var t=e.target;t&&t!=this;t=t.parentNode)if(t.matches(n)){i.call(t,e);break}},o)}(document,"click",this._triggerBtnSelector,function(e){e.preventDefault(),t.open()},!0),this._closeOnEscape&&document.addEventListener("keydown",function(e){("key"in(e=e||window.event)?"Escape"==e.key||"Esc"==e.key:27==e.keyCode)&&t.close()})}},{key:"destroy",value:function(){this._element.parentNode.removeChild(this._element),this._onDestroy()}},{key:"compile",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._title,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._content,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this._boxSize,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:this._zIndex,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:this._transitionDuration;return this._template({title:e,content:t,boxSize:n,zIndex:i,transitionDuration:o})}},{key:"render",value:function(){var e,t;if(0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._root){var n=this.compile();this._element=(e=n,(t=document.createElement("div")).innerHTML=e.trim(),t.firstChild),this._root.appendChild(this._element),this._onRender()}}},{key:"title",get:function(){return this._title},set:function(e){this._title=e,this.titleContainer&&(this.titleContainer.innerHTML=e)}},{key:"content",get:function(){return this._content},set:function(e){this._content=e,this.contentContainer&&(this.contentContainer.innerHTML=e)}}])&&i(e.prototype,t),n&&i(e,n),N}(),l="data-diamodal-form-input-id",r={wrapper:".diamodal-form-input",input:".diamodal-form-input__input"},a="diamodal-form-input--focused",d="diamodal-form-input--floated";var s=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document,t=function(e,t){for(var n={},i=t.querySelectorAll(e.wrapper),o=0;o<i.length;++o){var r=i[o],a=r.querySelector(e.input),s=H();n[s]={wrapper:r,input:a},a.setAttribute(l,s),""!==a.value&&F(r,d)}return n}(r,e),n=e.querySelectorAll(r.input),i=0;i<n.length;++i)n[i].addEventListener("focus",function(){var e=this.getAttribute(l);F(t[e].wrapper,a),F(t[e].wrapper,d)}),n[i].addEventListener("blur",function(){var e=this.getAttribute(l);W(t[e].wrapper,a),""===t[e].input.value&&W(t[e].wrapper,d)})};function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function O(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function g(e){var t,n=e.formTemplate,i=void 0===n?$(6):n,o=e.attributes,r=void 0===o?[]:o,a=e.inputs,s=void 0===a?[]:a,l=e.submitText,d=void 0===l?"Отправить":l,u=e.submitButtomClass,c=void 0===u?"diamodal-form__submit-button":u,f=e.addRequiredLabel,p=void 0===f||f,m=e.requiredLabelText,b=void 0===m?"Обязательные для заполнения поля":m,v=e.onSubmit,h=void 0===v?function(e){return e}:v,_=w(e,["formTemplate","attributes","inputs","submitText","submitButtomClass","addRequiredLabel","requiredLabelText","onSubmit"]);!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);var y=i({attributes:r,inputs:function(e){if(e&&e.length)return e.map(function(e){return e.id=e.name+H(),e})}(s),submitText:d,submitButtomClass:c,addRequiredLabel:p,requiredLabelText:b});return(t=O(this,x(g).call(this,function(o){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(e){var t,n,i;t=o,i=r[n=e],n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i})}return o}({content:y},_))))._formTemplate=i,t._onSubmit=h,t.initForm(),t}var t,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(g,o),t=g,(n=[{key:"initForm",value:function(){this._form=this._element.querySelector("[data-diamodal-form]"),this._form.addEventListener("submit",this._onSubmit),s(this._form)}}])&&u(t.prototype,n),i&&u(t,i),g}();$.d(t,"DiaModal",function(){return o}),$.d(t,"DiaModalForm",function(){return f}),document.addEventListener("DOMContentLoaded",function(e){!function(e){if(!e){var t=document.head||document.getElementsByTagName("head")[0],n=window.innerWidth-document.documentElement.clientWidth,i=".diamodal-scrollbar-compensate{margin-right:".concat(n,"px!important;}"),o=document.createElement("style");o.type="text/css",o.styleSheet?o.styleSheet.cssText=i:o.appendChild(document.createTextNode(i)),t.appendChild(o)}}(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))})}])});