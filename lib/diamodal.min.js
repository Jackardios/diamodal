!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("diamodal",[],e):"object"==typeof exports?exports.diamodal=e():t.diamodal=e()}(window,function(){return function(n){var i={};function o(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}return o.m=n,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=7)}([function(t,e,n){"use strict";t.exports=n(4)},function(t,e,n){},function(t,e){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert first argument to object");for(var n=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)for(var r=Object.keys(Object(o)),a=0,s=r.length;a<s;a++){var l=r[a],d=Object.getOwnPropertyDescriptor(o,l);void 0!==d&&d.enumerable&&(n[l]=o[l])}}return n}})},function(t,e,n){var i=n(0);t.exports=function(t){"use strict";t=t||{};var e="",n=i.$escape;return e+='<div class="diamodal diamodal--is-close" role="dialog" tabindex="-1" style="-webkit-transition-duration: ',e+=n(t.transitionDuration),e+="ms;-o-transition-duration: ",e+=n(t.transitionDuration),e+="ms;transition-duration: ",e+=n(t.transitionDuration),e+="ms;z-index: ",e+=n(t.zIndex||9999),e+='"><div class="diamodal__container"><div class="diamodal-box diamodal-box--',e+=n(t.boxSize),e+='"><div class="diamodal-box__header"><div class="diamodal-box__title" data-diamodal-title>',e+=t.title,e+='</div><button class="diamodal-box__close-button" data-diamodal-close><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.642 15.642" xmlns:xlink="http://www.w3.org/1999/xlink" enable-background="new 0 0 15.642 15.642"><path fill-rule="evenodd" d="M8.882,7.821l6.541-6.541c0.293-0.293,0.293-0.768,0-1.061  c-0.293-0.293-0.768-0.293-1.061,0L7.821,6.76L1.28,0.22c-0.293-0.293-0.768-0.293-1.061,0c-0.293,0.293-0.293,0.768,0,1.061  l6.541,6.541L0.22,14.362c-0.293,0.293-0.293,0.768,0,1.061c0.147,0.146,0.338,0.22,0.53,0.22s0.384-0.073,0.53-0.22l6.541-6.541  l6.541,6.541c0.147,0.146,0.338,0.22,0.53,0.22c0.192,0,0.384-0.073,0.53-0.22c0.293-0.293,0.293-0.768,0-1.061L8.882,7.821z"/></svg></button></div><div class="diamodal-box__content" data-diamodal-content>',e+=t.content,e+="</div></div></div></div>"}},function(i,t,e){"use strict";(function(t){
/*! art-template@runtime | https://github.com/aui/art-template */
var e="undefined"==typeof window,n=Object.create(e?t:window),s=/["&'<>]/;n.$escape=function(t){return function(t){var e=""+t,n=s.exec(e);if(!n)return t;var i="",o=void 0,r=void 0,a=void 0;for(o=n.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&#34;";break;case 38:a="&#38;";break;case 39:a="&#39;";break;case 60:a="&#60;";break;case 62:a="&#62;";break;default:continue}r!==o&&(i+=e.substring(r,o)),r=o+1,i+=a}return r!==o?i+e.substring(r,o):i}(function t(e){"string"!=typeof e&&(e=null==e?"":"function"==typeof e?t(e.call(e)):JSON.stringify(e));return e}(t))},n.$each=function(t,e){if(Array.isArray(t))for(var n=0,i=t.length;n<i;n++)e(t[n],n);else for(var o in t)e(t[o],o)},i.exports=n}).call(this,e(5))},function(sa,ta){var ua;ua=function(){return this}();try{ua=ua||Function("return this")()||eval("this")}catch(t){"object"==typeof window&&(ua=window)}sa.exports=ua},function(t,e,n){var a=n(0);t.exports=function(n){"use strict";n=n||{};var i="",o=a.$escape,r=a.$each;n.$value,n.$index,n.input,n.index,n.option;return i+='<form class="diamodal-form ',i+=o(n.attributes&&n.attributes.class?n.attributes.class:""),i+='" data-diamodal-form ',n.attributes&&(i+=" ",r(n.attributes,function(t,e){i+=" ",!1!==t&&"class"!==e&&(i+=" ",i+=o(e),i+='="',i+=o(t),i+='" '),i+=" "}),i+=" "),i+=" > ",n.inputs&&(i+=" ",r(n.inputs,function(t,e){i+=" ",t.type=t.type||"text",i+=" ",t.type&&(i+=' <div class="diamodal-form-input diamodal-form-input--fullwidth diamodal-form-input--',i+=o(t.type),i+=" ",i+=o(t.class||""),i+='"> ',"textarea"===t.type?(i+=' <textarea class="diamodal-form-input__input" ',r(t,function(t,e){i+=" ",!1!==t&&-1===["type","value","class","placeholder"].indexOf(e)&&(i+=" ",i+=o(e),i+='="',i+=o(t),i+='" '),i+=" "}),i+=" >",i+=o(t.value||""),i+="</textarea> "):"select"===t.type?(i+=' <select class="diamodal-form-input__input" ',r(t,function(t,e){i+=" ",!1!==t&&-1===["type","options","class","placeholder"].indexOf(e)&&(i+=" ",i+=o(e),i+='="',i+=o(t),i+='" '),i+=" "}),i+=" > ",t.options&&(i+=" ",r(t.options,function(t,e){i+=" <option ",r(t,function(t,e){i+=" ",!1!==t&&"text"!==e&&(i+=" ",i+=o(e),i+='="',i+=o(t),i+='" '),i+=" "}),i+=" > ",i+=o(t.text||t.value||""),i+=" </option> "}),i+=" "),i+=" </select> "):-1!==["text","number","email","tel","password","file","hidden","checkbox","radio"].indexOf(t.type)&&(i+=' <input class="diamodal-form-input__input" ',r(t,function(t,e){i+=" ",!1!==t&&-1===["class","placeholder"].indexOf(e)&&(i+=" ",i+=o(e),i+='="',i+=o(t),i+='" '),i+=" "}),i+=" > "),i+=' <label for="',i+=o(t.id),i+='" class="diamodal-form-input__label">',i+=o(t.placeholder||""),i+=n.addRequiredLabel&&t.required&&-1===["checkbox","radio"].indexOf(t.type)?'<span class="diamodal-color-error">*</span>':"",i+="</label></div> "),i+=" "}),i+=" "),i+=" ",n.addRequiredLabel&&n.requiredLabelText&&(i+=' <div class="diamodal-form__required-label-text"><span class="diamodal-color-error">*</span>',i+=n.requiredLabelText,i+="</div> "),i+=' <button type="submit" class="',i+=o(n.submitButtomClass),i+='" data-diamodal-form-submit>',i+=o(n.submitText),i+="</button></form>"}},function(t,e,$){"use strict";$.r(e);$(1),$(2);function H(){return"_"+Math.random().toString(14).substr(2,6)}function F(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function W(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function J(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=function(){function N(t){var e=this,n=t.template,i=void 0===n?$(3):n,o=t.title,r=void 0===o?"":o,a=t.content,s=void 0===a?"":a,l=t.boxSize,d=void 0===l?"small":l,u=t.root,c=void 0===u?document?document.body:null:u,f=t.isOpenClass,p=void 0===f?"diamodal--is-open":f,m=t.isCloseClass,b=void 0===m?"diamodal--is-close":m,v=t.isClosingClass,h=void 0===v?"diamodal--is-closing":v,_=t.triggerBtnSelector,y=void 0===_?null:_,g=t.closeOnEscape,w=void 0===g||g,O=t.openOnInit,x=void 0!==O&&O,C=t.destroyOnClose,S=void 0!==C&&C,j=t.transitionDuration,k=void 0===j?480:j,L=t.zIndex,T=void 0===L?9999:L,E=t.onInit,M=void 0===E?function(t){return t}:E,P=t.onDestroy,q=void 0===P?function(t){return t}:P,D=t.onRender,z=void 0===D?function(t){return t}:D,B=t.onOpen,I=void 0===B?function(t){return t}:B,A=t.onClose,R=void 0===A?function(t){return t}:A;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,N),J(this,"open",function(){clearTimeout(e._currentTimeout),W(e._element,e._classes.isCloseClass),W(e._element,e._classes.isClosingClass),W(e._element,e._classes.isOpenClass),F(e._root,"diamodal-active"),F(e._root,"diamodal-scrollbar-compensate"),window&&(window.__diamodalOpenedModals||(window.__diamodalOpenedModals=[]),-1===window.__diamodalOpenedModals.indexOf(e._uid)&&window.__diamodalOpenedModals.push(e._uid)),e._currentTimeout=setTimeout(function(){F(e._element,e._classes.isOpenClass),e._onOpen()},10)}),J(this,"close",function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:e._destroyOnClose;W(e._element,e._classes.isOpenClass),W(e._element,e._classes.isCloseClass),F(e._element,e._classes.isClosingClass),e._currentTimeout=setTimeout(function(){t&&e.destroy(),W(e._element,e._classes.isClosingClass),F(e._element,e._classes.isCloseClass),window&&(window.__diamodalOpenedModals&&window.__diamodalOpenedModals.length&&window.__diamodalOpenedModals.splice(window.__diamodalOpenedModals.indexOf(e._uid),1),window.__diamodalOpenedModals&&window.__diamodalOpenedModals.length||(W(e._root,"diamodal-active"),W(e._root,"diamodal-scrollbar-compensate"))),e._onClose()},e._transitionDuration)}),this._transitionDuration=k,this._classes={isOpenClass:p,isCloseClass:b,isClosingClass:h},this._uid=H(),this._root=c,this._template=i,this._title=r,this._content=s,this._boxSize=d,this._closeOnEscape=w,this._openOnInit=x,this._destroyOnClose=S,this._triggerBtnSelector=y,this._zIndex=T,this._onInit=M,this._onDestroy=q,this._onRender=z,this._onOpen=I,this._onClose=R,this.init(x)}var t,e,n;return t=N,(e=[{key:"init",value:function(t){this.render(),this._element&&(this._attachHandlers(),t&&this.open()),this.titleContainer=this._root.querySelector("[data-diamodal-title]"),this.contentContainer=this._root.querySelector("[data-diamodal-content]"),this._onInit()}},{key:"_attachHandlers",value:function(){var e=this;if(this._box=this._element.querySelector(".diamodal-box"),this._box){for(var t=this._box.querySelectorAll("[data-diamodal-close]"),n=0;n<t.length;++n)t[n].addEventListener("click",function(t){return e.close()});this._box.addEventListener("click",function(t){t.stopPropagation()})}this._element&&this._element.addEventListener("click",function(t){return e.close()}),this._triggerBtnSelector&&function(t,e,n,i){var o=4<arguments.length&&void 0!==arguments[4]&&arguments[4];t.addEventListener(e,function(t){for(var e=t.target;e&&e!=this;e=e.parentNode)if(e.matches(n)){i.call(e,t);break}},o)}(document,"click",this._triggerBtnSelector,function(t){t.preventDefault(),e.open()},!0),this._closeOnEscape&&document.addEventListener("keydown",function(t){("key"in(t=t||window.event)?"Escape"==t.key||"Esc"==t.key:27==t.keyCode)&&e.close()})}},{key:"destroy",value:function(){this._element.parentNode.removeChild(this._element),this._onDestroy()}},{key:"compile",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._title,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._content,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this._boxSize,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:this._zIndex,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:this._transitionDuration;return this._template({title:t,content:e,boxSize:n,zIndex:i,transitionDuration:o})}},{key:"render",value:function(){var t,e;if(0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._root){var n=this.compile();this._element=(t=n,(e=document.createElement("div")).innerHTML=t.trim(),e.firstChild),this._root.appendChild(this._element),this._onRender()}}},{key:"title",get:function(){return this._title},set:function(t){this._title=t,this.titleContainer&&(this.titleContainer.innerHTML=t)}},{key:"content",get:function(){return this._content},set:function(t){this._content=t,this.contentContainer&&(this.contentContainer.innerHTML=t)}}])&&i(t.prototype,e),n&&i(t,n),N}(),l="data-diamodal-form-input-id",r={wrapper:".diamodal-form-input",input:".diamodal-form-input__input"},a="diamodal-form-input--focused",d="diamodal-form-input--floated";var s=function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document,e=function(t,e){for(var n={},i=e.querySelectorAll(t.wrapper),o=0;o<i.length;++o){var r=i[o],a=r.querySelector(t.input),s=H();n[s]={wrapper:r,input:a},a.setAttribute(l,s),""!==a.value&&F(r,d)}return n}(r,t),n=t.querySelectorAll(r.input),i=0;i<n.length;++i)n[i].addEventListener("focus",function(){var t=this.getAttribute(l);F(e[t].wrapper,a),F(e[t].wrapper,d)}),n[i].addEventListener("blur",function(){var t=this.getAttribute(l);W(e[t].wrapper,a),""===e[t].input.value&&W(e[t].wrapper,d)})};function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){if(null==t)return{};var n,i,o=function(t,e){if(null==t)return{};var n,i,o={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],0<=e.indexOf(n)||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function O(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function g(t){var e,n=t.formTemplate,i=void 0===n?$(6):n,o=t.attributes,r=void 0===o?[]:o,a=t.inputs,s=void 0===a?[]:a,l=t.submitText,d=void 0===l?"Отправить":l,u=t.submitButtomClass,c=void 0===u?"diamodal-form__submit-button":u,f=t.addRequiredLabel,p=void 0===f||f,m=t.requiredLabelText,b=void 0===m?"Обязательные для заполнения поля":m,v=t.onSubmit,h=void 0===v?function(t){return t}:v,_=w(t,["formTemplate","attributes","inputs","submitText","submitButtomClass","addRequiredLabel","requiredLabelText","onSubmit"]);!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g);var y=i({attributes:r,inputs:function(t){if(t&&t.length)return t.map(function(t){return t.id=t.name+H(),t})}(s),submitText:d,submitButtomClass:c,addRequiredLabel:p,requiredLabelText:b});return(e=O(this,x(g).call(this,function(o){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},e=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.forEach(function(t){var e,n,i;e=o,i=r[n=t],n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i})}return o}({content:y},_))))._formTemplate=i,e._onSubmit=h,e.initForm(),e}var e,n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(g,o),e=g,(n=[{key:"initForm",value:function(){this._form=this._element.querySelector("[data-diamodal-form]"),this._form.addEventListener("submit",this._onSubmit),s(this._form)}}])&&u(e.prototype,n),i&&u(e,i),g}();$.d(e,"DiaModal",function(){return o}),$.d(e,"DiaModalForm",function(){return f}),document.addEventListener("DOMContentLoaded",function(t){!function(t){if(!t){var e=document.head||document.getElementsByTagName("head")[0],n=window.innerWidth-document.documentElement.clientWidth,i=".diamodal-scrollbar-compensate{margin-right:".concat(n,"px!important;}"),o=document.createElement("style");o.type="text/css",o.styleSheet?o.styleSheet.cssText=i:o.appendChild(document.createTextNode(i)),e.appendChild(o)}}(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))})}])});