!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("diamodal",[],e):"object"==typeof exports?exports.diamodal=e():t.diamodal=e()}(window,function(){return function(n){var o={};function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}return i.m=n,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=7)}([function(t,e,n){"use strict";t.exports=n(4)},function(t,e,n){},function(t,e){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert first argument to object");for(var n=Object(t),o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i)for(var r=Object.keys(Object(i)),a=0,s=r.length;a<s;a++){var l=r[a],c=Object.getOwnPropertyDescriptor(i,l);void 0!==c&&c.enumerable&&(n[l]=i[l])}}return n}})},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="",n=o.$escape;return e+='<div class="diamodal diamodal--is-close" role="dialog" tabindex="-1" style="-webkit-transition-duration: ',e+=n(t.transitionDuration),e+="ms;-o-transition-duration: ",e+=n(t.transitionDuration),e+="ms;transition-duration: ",e+=n(t.transitionDuration),e+='ms"><div class="diamodal__container"><div class="diamodal-box diamodal-box--',e+=n(t.boxSize),e+='"><div class="diamodal-box__header"><div class="diamodal-box__title">',e+=t.title,e+='</div><button class="diamodal-box__close-button" data-diamodal-close><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.642 15.642" xmlns:xlink="http://www.w3.org/1999/xlink" enable-background="new 0 0 15.642 15.642"><path fill-rule="evenodd" d="M8.882,7.821l6.541-6.541c0.293-0.293,0.293-0.768,0-1.061  c-0.293-0.293-0.768-0.293-1.061,0L7.821,6.76L1.28,0.22c-0.293-0.293-0.768-0.293-1.061,0c-0.293,0.293-0.293,0.768,0,1.061  l6.541,6.541L0.22,14.362c-0.293,0.293-0.293,0.768,0,1.061c0.147,0.146,0.338,0.22,0.53,0.22s0.384-0.073,0.53-0.22l6.541-6.541  l6.541,6.541c0.147,0.146,0.338,0.22,0.53,0.22c0.192,0,0.384-0.073,0.53-0.22c0.293-0.293,0.293-0.768,0-1.061L8.882,7.821z"/></svg></button></div><div class="diamodal-box__content">',e+=t.content,e+="</div></div></div></div>"}},function(o,t,e){"use strict";(function(t){
/*! art-template@runtime | https://github.com/aui/art-template */
var e="undefined"==typeof window,n=Object.create(e?t:window),s=/["&'<>]/;n.$escape=function(t){return function(t){var e=""+t,n=s.exec(e);if(!n)return t;var o="",i=void 0,r=void 0,a=void 0;for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&#34;";break;case 38:a="&#38;";break;case 39:a="&#39;";break;case 60:a="&#60;";break;case 62:a="&#62;";break;default:continue}r!==i&&(o+=e.substring(r,i)),r=i+1,o+=a}return r!==i?o+e.substring(r,i):o}(function t(e){"string"!=typeof e&&(e=null==e?"":"function"==typeof e?t(e.call(e)):JSON.stringify(e));return e}(t))},n.$each=function(t,e){if(Array.isArray(t))for(var n=0,o=t.length;n<o;n++)e(t[n],n);else for(var i in t)e(t[i],i)},o.exports=n}).call(this,e(5))},function(sa,ta){var ua;ua=function(){return this}();try{ua=ua||Function("return this")()||eval("this")}catch(t){"object"==typeof window&&(ua=window)}sa.exports=ua},function(t,e,n){var r=n(0);t.exports=function(t){"use strict";t=t||{};var n="",o=r.$escape,i=r.$each;t.$value,t.$index,t.input,t.index,t.option;return n+='<form action="',n+=o(t.action||""),n+='" method="',n+=o(t.method||""),n+='" enctype="',n+=o(t.enctype||""),n+='" class="diamodal-form" data-diamodal-form ',t.attributes&&(n+=" ",i(t.attributes,function(t,e){n+=" ",!1!==t&&-1===["action","method","enctype","class"].indexOf(e)&&(n+=" ",n+=o(e),n+='="',n+=o(t),n+='" '),n+=" "}),n+=" "),n+=" > ",t.inputs&&(n+=" ",i(t.inputs,function(t,e){n+=" ",t.type&&(n+=' <div class="diamodal-form-input diamodal-form-input--fullwidth diamodal-form-input--',n+=o(t.type),n+=" ",n+=o(t.class||""),n+='"> ',"textarea"===t.type?(n+=' <textarea class="diamodal-form-input__input" ',i(t,function(t,e){n+=" ",!1!==t&&-1===["type","value","class","placeholder"].indexOf(e)&&(n+=" ",n+=o(e),n+='="',n+=o(t),n+='" '),n+=" "}),n+=" >",n+=o(t.value||""),n+="</textarea> "):"select"===t.type?(n+=' <select class="diamodal-form-input__input" ',i(t,function(t,e){n+=" ",!1!==t&&-1===["type","options","class","placeholder"].indexOf(e)&&(n+=" ",n+=o(e),n+='="',n+=o(t),n+='" '),n+=" "}),n+=" > ",t.options&&(n+=" ",i(t.options,function(t,e){n+=" <option ",i(t,function(t,e){n+=" ",!1===t&&"text"===e||(n+=" ",n+=o(e),n+='="',n+=o(t),n+='" '),n+=" "}),n+=" > ",n+=o(t.text||t.value||""),n+=" </option> "}),n+=" "),n+=" </select> "):-1!==["text","number","email","tel","password","file","hidden","checkbox","radio"].indexOf(t.type)&&(n+=' <input class="diamodal-form-input__input" ',i(t,function(t,e){n+=" ",!1!==t&&-1===["class","placeholder"].indexOf(e)&&(n+=" ",n+=o(e),n+='="',n+=o(t),n+='" '),n+=" "}),n+=" > "),n+=' <label for="',n+=o(t.id),n+='" class="diamodal-form-input__label">',n+=o(t.placeholder||""),n+="</label></div> "),n+=" "}),n+=" "),n+=' <button type="submit" class="',n+=o(t.submitButtomClass),n+='" data-diamodal-form-submit>',n+=o(t.submitText),n+="</button></form>"}},function(t,e,q){"use strict";q.r(e);q(1),q(2);function w(){return"_"+Math.random().toString(14).substr(2,6)}function z(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function R(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function F(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=function(){function I(t){var e=this,n=t.template,o=void 0===n?q(3):n,i=t.title,r=void 0===i?"":i,a=t.content,s=void 0===a?"":a,l=t.boxSize,c=void 0===l?"small":l,u=t.root,d=void 0===u?document?document.body:null:u,f=t.isOpenClass,p=void 0===f?"diamodal--is-open":f,m=t.isCloseClass,b=void 0===m?"diamodal--is-close":m,v=t.isClosingClass,h=void 0===v?"diamodal--is-closing":v,y=t.triggerBtnSelector,_=void 0===y?null:y,g=t.closeOnEscape,O=void 0===g||g,x=t.openOnInit,w=void 0!==x&&x,C=t.destroyOnClose,j=void 0!==C&&C,S=t.transitionDuration,k=void 0===S?480:S,E=t.onInit,P=void 0===E?function(t){return t}:E,T=t.onDestroy,L=void 0===T?function(t){return t}:T,D=t.onRender,B=void 0===D?function(t){return t}:D,M=t.onOpen,A=void 0===M?function(t){return t}:M,N=t.onClose,$=void 0===N?function(t){return t}:N;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,I),F(this,"open",function(){clearTimeout(e._currentTimeout),R(e._element,e._classes.isCloseClass),R(e._element,e._classes.isClosingClass),R(e._element,e._classes.isOpenClass),z(e._root,"diamodal-active"),z(e._root,"diamodal-scrollbar-compensate"),e._currentTimeout=setTimeout(function(){z(e._element,e._classes.isOpenClass),e._onOpen()},10)}),F(this,"close",function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:e._destroyOnClose;R(e._element,e._classes.isOpenClass),R(e._element,e._classes.isCloseClass),z(e._element,e._classes.isClosingClass),e._currentTimeout=setTimeout(function(){t&&e.destroy(),R(e._element,e._classes.isClosingClass),z(e._element,e._classes.isCloseClass),R(e._root,"diamodal-active"),R(e._root,"diamodal-scrollbar-compensate"),e._onClose()},e._transitionDuration)}),this._transitionDuration=k,this._classes={isOpenClass:p,isCloseClass:b,isClosingClass:h},this._root=d,this._template=o,this._title=r,this._content=s,this._boxSize=c,this._closeOnEscape=O,this._openOnInit=w,this._destroyOnClose=j,this._triggerBtnSelector=_,this._onInit=P,this._onDestroy=L,this._onRender=B,this._onOpen=A,this._onClose=$,this.init(w)}var t,e,n;return t=I,(e=[{key:"init",value:function(t){this.render(),this._element&&(this._attachHandlers(),t&&this.open()),this._onInit()}},{key:"_attachHandlers",value:function(){var e=this;if(this._box=this._element.querySelector(".diamodal-box"),this._box){for(var t=this._box.querySelectorAll("[data-diamodal-close]"),n=0;n<t.length;++n)t[n].addEventListener("click",function(t){return e.close()});this._box.addEventListener("click",function(t){t.stopPropagation()})}this._element&&this._element.addEventListener("click",function(t){return e.close()}),this._triggerBtnSelector&&function(t,e,n,o){var i=4<arguments.length&&void 0!==arguments[4]&&arguments[4];t.addEventListener(e,function(t){for(var e=t.target;e&&e!=this;e=e.parentNode)if(e.matches(n)){o.call(e,t);break}},i)}(document,"click",this._triggerBtnSelector,function(){e.open()}),this._closeOnEscape&&document.addEventListener("keydown",function(t){("key"in(t=t||window.event)?"Escape"==t.key||"Esc"==t.key:27==t.keyCode)&&e.close()})}},{key:"destroy",value:function(){this._element.parentNode.removeChild(this._element),this._onDestroy()}},{key:"compile",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._title,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._content,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this._boxSize,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:this._transitionDuration;return this._template({title:t,content:e,boxSize:n,transitionDuration:o})}},{key:"render",value:function(){var t,e;if(0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._root){var n=this.compile();this._element=(t=n,(e=document.createElement("div")).innerHTML=t.trim(),e.firstChild),this._root.appendChild(this._element),this._onRender()}}}])&&o(t.prototype,e),n&&o(t,n),I}(),l="data-diamodal-form-input-id",r={wrapper:".diamodal-form-input",input:".diamodal-form-input__input"},a="diamodal-form-input--focused",c="diamodal-form-input--floated";var s=function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document,e=function(t,e){for(var n={},o=e.querySelectorAll(t.wrapper),i=0;i<o.length;++i){var r=o[i],a=r.querySelector(t.input),s=w();n[s]={wrapper:r,input:a},a.setAttribute(l,s),""!==a.value&&z(r,c)}return n}(r,t),n=t.querySelectorAll(r.input),o=0;o<n.length;++o)n[o].addEventListener("focus",function(){var t=this.getAttribute(l);z(e[t].wrapper,a),z(e[t].wrapper,c)}),n[o].addEventListener("blur",function(){var t=this.getAttribute(l);R(e[t].wrapper,a),""===e[t].input.value&&R(e[t].wrapper,c)})};function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){if(null==t)return{};var n,o,i=function(t,e){if(null==t)return{};var n,o,i={},r=Object.keys(t);for(o=0;o<r.length;o++)n=r[o],0<=e.indexOf(n)||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function j(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function x(t){var e,n=t.formTemplate,o=void 0===n?q(6):n,i=t.action,r=void 0===i?"":i,a=t.method,s=void 0===a?"GET":a,l=t.enctype,c=void 0===l?"":l,u=t.attributes,d=void 0===u?[]:u,f=t.inputs,p=void 0===f?[]:f,m=t.submitText,b=void 0===m?"Отправить":m,v=t.submitButtomClass,h=void 0===v?"diamodal-form__submit-button":v,y=t.onSubmit,_=void 0===y?function(t){return t}:y,g=C(t,["formTemplate","action","method","enctype","attributes","inputs","submitText","submitButtomClass","onSubmit"]);!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,x);var O=o({action:r,method:s,enctype:c,attributes:d,inputs:function(t){if(t&&t.length)return t.map(function(t){return t.id=t.name+w(),t})}(p),submitText:b,submitButtomClass:h});return(e=j(this,S(x).call(this,function(i){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},e=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.forEach(function(t){var e,n,o;e=i,o=r[n=t],n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o})}return i}({content:O},g))))._formTemplate=o,e._onSubmit=_,e.initForm(),e}var e,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(x,i),e=x,(n=[{key:"initForm",value:function(){this._form=this._element.querySelector("[data-diamodal-form]"),this._form.addEventListener("submit",this._onSubmit),s(this._form)}}])&&u(e.prototype,n),o&&u(e,o),x}();q.d(e,"DiaModal",function(){return i}),q.d(e,"DiaModalForm",function(){return f}),document.addEventListener("DOMContentLoaded",function(t){!function(t){if(!t){var e=document.head||document.getElementsByTagName("head")[0],n=window.innerWidth-document.documentElement.clientWidth,o=".diamodal-scrollbar-compensate{margin-right:".concat(n,"px!important;}"),i=document.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=o:i.appendChild(document.createTextNode(o)),e.appendChild(i)}}(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))})}])});